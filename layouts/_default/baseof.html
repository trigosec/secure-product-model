<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang | default "en" }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">


    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>

    <meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta name="author" content="{{ .Site.Params.author }}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
    <meta property="og:description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta property="og:image" content="{{ "/images/logo.png" | absURL }}">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ .Permalink }}">
    <meta property="twitter:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
    <meta property="twitter:description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta property="twitter:image" content="{{ "/images/logo.png" | absURL }}">

    <!-- License -->
    <meta name="license" content="CC BY-SA 4.0">
    <meta name="dcterms.license" content="https://creativecommons.org/licenses/by-sa/4.0/">
    <meta name="dcterms.rights" content="This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License">
    <link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">

    <!-- CSS -->
    <link rel="stylesheet" href="{{ "/css/style.css" | relURL }}">

    <!-- Favicon -->
    <link rel="shortcut icon" href="{{ "/favicon.ico" | relURL }}?v={{ now.Unix }}">
    <link rel="icon" type="image/x-icon" href="{{ "/favicon.ico" | relURL }}?v={{ now.Unix }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ "/images/favicon-16.png" | relURL }}?v={{ now.Unix }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ "/images/favicon-32.png" | relURL }}?v={{ now.Unix }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ "/images/logo-180.png" | relURL }}?v={{ now.Unix }}">
    <link rel="mask-icon" href="{{ "/images/logo.png" | relURL }}" color="#002ebf">
    <link rel="manifest" href="{{ "/site.webmanifest" | relURL }}">
    <meta name="msapplication-TileColor" content="#002ebf">
    <meta name="theme-color" content="#002ebf">

    <!-- RSS -->
    {{ range .AlternativeOutputFormats -}}
        {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
    {{ end -}}
</head>
<body>
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="navbar-brand">
                    <a href="{{ "/" | relURL }}" class="brand-link">
                        {{ if .Site.Params.logo }}
                        <img src="{{ "/images/logo-navbar.png" | relURL }}"
                             srcset="{{ "/images/logo-navbar.png" | relURL }} 1x, {{ "/images/logo-nav-2x.png" | relURL }} 2x"
                             alt="{{ .Site.Title }} Logo" class="brand-logo">
                        {{ else }}
                        <span class="brand-icon">ðŸ”’</span>
                        {{ end }}
                        <span class="brand-text">{{ .Site.Title }}</span>
                    </a>
                </div>

                <button class="navbar-toggle" id="navbar-toggle" aria-label="Toggle navigation">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>

                <div class="navbar-menu" id="navbar-menu">
                    <ul class="navbar-nav">
                        {{ range .Site.Menus.main }}
                        <li class="nav-item">
                            <a href="{{ .URL | relURL }}" class="nav-link{{ if $.IsMenuCurrent "main" . }} active{{ end }}">
                                {{ .Name }}
                            </a>
                        </li>
                        {{ end }}
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main class="site-main">
        {{ block "main" . }}{{ end }}
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    {{ if .Site.Params.logo }}
                    <div class="footer-logo">
                        <img src="{{ "/images/logo-footer.png" | relURL }}" alt="{{ .Site.Title }} Logo" class="footer-logo-img">
                    </div>
                    {{ end }}
                    <h3>Secure Product Model</h3>
                    <p>A practical security model designed specifically for engineering and technology teams.</p>
                </div>

                <div class="footer-section">
                    <h4>Model</h4>
                    <ul class="footer-links">
                        <li><a href="{{ "/resources/" | relURL }}">Resources</a></li>
                        <li><a href="{{ "/governance/" | relURL }}">Governance</a></li>
                        <li><a href="{{ "/controls/" | relURL }}">Controls</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>Documentation</h4>
                    <ul class="footer-links">
                        <li><a href="{{ "/model/" | relURL }}">Model Overview</a></li>
                        <li><a href="{{ "/about/" | relURL }}">About</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>Connect</h4>
                    <ul class="footer-links">
                        <li><a href="#" target="_blank" rel="noopener">GitHub</a></li>
                        <li><a href="#" target="_blank" rel="noopener">Community</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; {{ now.Format "2006" }} Secure Product Model. Licensed under
                <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener" class="license-link">CC BY-SA 4.0</a>.</p>
                <p class="footer-version">Version {{ .Site.Params.version | default "1.0" }} â€¢
                <a href="{{ "/license/" | relURL }}" class="license-link">License</a> â€¢
                <a href="#" target="_blank" rel="noopener" class="license-link">Source Code</a></p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile navigation toggle
        document.getElementById('navbar-toggle').addEventListener('click', function() {
            const menu = document.getElementById('navbar-menu');
            menu.classList.toggle('active');
        });

        // Close mobile menu when clicking a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('navbar-menu').classList.remove('active');
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
